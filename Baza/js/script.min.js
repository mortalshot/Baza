$(document).ready((function(){"use strict";var t,e;!function(){let t=[],e=document.querySelectorAll("[data-da]"),o=[],i=[];if(e.length>0){let r=0;for(let i=0;i<e.length;i++){const n=e[i],a=n.getAttribute("data-da");if(""!=a){const e=a.split(","),i=e[1]?e[1].trim():"last",c=e[2]?e[2].trim():"767",d="min"===e[3]?e[3].trim():"max",p=document.querySelector("."+e[0].trim());e.length>0&&p&&(n.setAttribute("data-da-index",r),t[r]={parent:n.parentNode,index:(l=n,s=void 0,s=Array.prototype.slice.call(l.parentNode.children),s.indexOf(l))},o[r]={element:n,destination:document.querySelector("."+e[0].trim()),place:i,breakpoint:c,type:d},r++)}}(n=o).sort((function(t,e){return t.breakpoint>e.breakpoint?-1:1})),n.sort((function(t,e){return t.place>e.place?1:-1}));for(let t=0;t<o.length;t++){const e=o[t],n=e.breakpoint,l=e.type;i.push(window.matchMedia("("+l+"-width: "+n+"px)")),i[t].addListener(a)}}var n,l,s;function a(t){for(let t=0;t<o.length;t++){const e=o[t],n=e.element,l=e.destination,s=e.place,a="_dynamic_adapt_"+e.breakpoint;if(i[t].matches){if(!n.classList.contains(a)){let t=c(l)[s];"first"===s?t=c(l)[0]:"last"===s&&(t=c(l)[c(l).length]),l.insertBefore(n,l.children[t]),n.classList.add(a)}}else n.classList.contains(a)&&(r(n),n.classList.remove(a))}}function r(e){const o=e.getAttribute("data-da-index"),i=t[o],n=i.parent,l=i.index,s=c(n,!0)[l];n.insertBefore(e,n.children[s])}function c(t,e){const o=t.children,i=[];for(let t=0;t<o.length;t++){const n=o[t];(e||null==n.getAttribute("data-da"))&&i.push(t)}return i}a()}(),t=function(t){1==t?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(e=new Image).onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",$(".header__burger").click((function(t){$(".header__burger, #navbarSupportedContent").toggleClass("active"),$("body").toggleClass("lock")})),$((function(){let t=$(".section"),e=$(".header .navbar"),o=e.outerHeight();window.addEventListener("orientationchange",(function(){o=e.outerHeight()}),!1),$(window).on("scroll",(function(){const i=$(this).scrollTop();t.each((function(){const n=$(this).offset().top-o-5,l=n+$(this).outerHeight();i>=n&&i<=l&&(e.find(".nav-link").removeClass("active"),t.removeClass("active"),$(this).addClass("active"),e.find('.nav-link[href="#'+$(this).attr("id")+'"]').addClass("active"))}))})),e.find(".nav-link").on("click",(function(){const t=$(this).attr("href");return $("html, body").animate({scrollTop:$(t).offset().top-o},487),!1}));const i=document.querySelector("body"),n=window.innerWidth-document.querySelector(".site__main").offsetWidth+"px",l=document.querySelectorAll(".lock-padding");$(".navigation-drawer__mobile :not(.filter-selected__reset)").on("click",(function(){if($(".navigation-drawer__wrapper, .navigation-drawer").addClass("active"),l.length>0)for(let t=0;t<l.length;t++){l[t].style.paddingRight=n}i.style.paddingRight=n,i.classList.add("lock")})),$(document).mouseup((function(t){if(!$(".popup").hasClass("open")){var e=$(".navigation-drawer__wrapper");if(!e.is(t.target)&&0===e.has(t.target).length){if($(".navigation-drawer__wrapper, .navigation-drawer").removeClass("active"),l.length>0)for(let t=0;t<l.length;t++){l[t].style.paddingRight="0px"}i.style.paddingRight="0px",i.classList.remove("lock")}}})),$(".filter-modals__link.popup-link").click((function(t){$(".navigation-drawer__wrapper, .navigation-drawer").removeClass("active")}))}));const o=document.querySelectorAll("._anim-items");if(o.length>0){function i(t){for(let t=0;t<o.length;t++){const e=o[t],i=e.offsetHeight,l=n(e).top,s=4;let a=window.innerHeight-i/s;i>window.innerHeight&&(a=window.innerHeight-window.innerHeight/s),pageYOffset>l-a&&pageYOffset<l+i?e.classList.add("_active"):e.classList.contains("_anim-no-hide")||e.classList.remove("_active")}}function n(t){const e=t.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+i,left:e.left+o}}window.addEventListener("scroll",i),setTimeout(()=>{i()},300)}if($("#phone").length>0){const t=$("#carrotLabel"),e=$("#carrotLabelShadow"),o=$("#appleLabel"),i=$("#appleLabelShadow"),n=$("#potatoLabel"),l=$("#potatoLabelShadow"),s=$("#door"),a=$("#car"),r=$("#products"),c=$("#success");gsap.to(t,{duration:.5,opacity:1}),gsap.to(t,{duration:.5,y:-90,delay:.5}),gsap.to(e,{duration:.7,opacity:0,delay:1}),gsap.to(t,{duration:1,x:-255,y:-162,delay:1}),gsap.to(o,{duration:.5,opacity:1,delay:1.8}),gsap.to(o,{duration:.5,y:-150,delay:2.3}),gsap.to(i,{duration:.7,opacity:0,delay:2.3}),gsap.to(o,{duration:1,x:-300,y:-290,delay:2.8}),gsap.to(n,{duration:.5,opacity:1,delay:3.5}),gsap.to(n,{duration:.5,y:-100,delay:4}),gsap.to(l,{duration:.7,opacity:0,delay:4.5}),gsap.to(n,{duration:1,x:-150,y:-183,delay:4.5}),gsap.to(n,{duration:1,x:-300,y:-200,delay:6}),gsap.to(o,{duration:1,x:-450,y:-305,delay:7}),gsap.to(t,{duration:1,x:-405,y:-175,delay:8}),gsap.to(n,{duration:1,opacity:0,delay:9}),gsap.to(o,{duration:1,opacity:0,delay:9}),gsap.to(t,{duration:1,opacity:0,delay:9}),gsap.to(s,{duration:.7,y:-30,delay:10}),gsap.to(a,{duration:1,ease:"none",x:0,y:0,delay:10.7}),gsap.to(r,{duration:1,opacity:1,delay:12}),gsap.to(c,{duration:1,opacity:1,delay:13})}let l=document.getElementsByTagName("select");function s(t){const e=document.querySelectorAll(".select");if(!t.target.closest(".select"))for(let t=0;t<e.length;t++){const o=e[t],i=o.querySelector(".select__options");o.classList.remove("_active"),d(i,100)}}function a(t){const e=t.parentElement,o=t.getAttribute("class"),i=t.querySelector("option:checked");t.setAttribute("data-default",i.value),t.style.display="none",e.insertAdjacentHTML("beforeend",'<div class="select select_'+o+'"></div>'),t.parentElement.querySelector(".select").appendChild(t),r(t)}function r(t){const e=t.parentElement,o=e.querySelector(".select__item"),i=t.querySelectorAll("option"),n=t.querySelector("option:checked").text,l=t.getAttribute("data-type");o&&o.remove();let s="";s="input"==l?'<div class="select__value"><input autocomplete="off" type="text" name="form[]" value="'+n+'" data-error="Ошибка" data-value="'+n+'" class="select__input"></div>':'<div class="select__value"><span>'+n+"</span></div>",e.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+s+'</div><div class="select__options">'+function(t){if(t){let e="";for(let o=0;o<t.length;o++){const i=t[o],n=i.value;if(""!=n){const t=i.text;e=e+'<div data-value="'+n+'" class="select__option">'+t+"</div>"}}return e}}(i)+"</div></div></div>"),function(t,e){const o=e.querySelector(".select__item"),i=e.querySelector(".select__options"),n=e.querySelectorAll(".select__option"),l=t.getAttribute("data-type"),s=e.querySelector(".select__input");o.addEventListener("click",(function(){let t=document.querySelectorAll(".select");for(let e=0;e<t.length;e++){const i=t[e],n=i.querySelector(".select__options");i!=o.closest(".select")&&(i.classList.remove("_active"),d(n,100))}p(i,100),e.classList.toggle("_active")}));for(let o=0;o<n.length;o++){const i=n[o],a=i.getAttribute("data-value"),r=i.innerHTML;"input"==l?s.addEventListener("keyup",c):i.getAttribute("data-value")==t.value&&(i.style.display="none"),i.addEventListener("click",(function(){for(let t=0;t<n.length;t++){n[t].style.display="block"}"input"==l?(s.value=r,t.value=a):(e.querySelector(".select__value").innerHTML="<span>"+r+"</span>",t.value=a,i.style.display="none")}))}}(t,e)}function c(t){t.target.closest(".select ").querySelector(".select__options");let e=t.target.closest(".select ").querySelectorAll(".select__option"),o=t.target.value.toUpperCase();for(let t=0;t<e.length;t++){let i=e[t];(i.textContent||i.innerText).toUpperCase().indexOf(o)>-1?i.style.display="":i.style.display="none"}}l.length>0&&function(){for(let t=0;t<l.length;t++){a(l[t])}document.addEventListener("click",(function(t){s(t)})),document.addEventListener("keydown",(function(t){27==t.which&&s(t)}))}();let d=(t,e=500)=>{t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout(()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")},e)},p=(t,e=500)=>{if(!t.classList.contains("_slide"))return t.classList.add("_slide"),"none"===window.getComputedStyle(t).display?((t,e=500)=>{t.style.removeProperty("display");let o=window.getComputedStyle(t).display;"none"===o&&(o="block"),t.style.display=o;let i=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=i+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout(()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")},e)})(t,e):d(t,e)};const u=document.querySelectorAll(".popup-link"),y=document.querySelector("body"),f=document.querySelectorAll(".lock-padding");let g=!0;if(u.length>0)for(let t=0;t<u.length;t++){const e=u[t];e.addEventListener("click",(function(t){const o=e.getAttribute("href").replace("#","");h(document.getElementById(o)),t.preventDefault()}))}const m=document.querySelectorAll(".close-popup");if(m.length>0)for(let t=0;t<m.length;t++){const e=m[t];e.addEventListener("click",(function(t){v(e.closest(".popup")),t.preventDefault()}))}function h(t){if(t&&g){const e=document.querySelector(".popup.open");e?v(e,!1):function(){const t=window.innerWidth-document.querySelector(".site__main").offsetWidth+"px";//!обратить внимание на контейнер
if(f.length>0)for(let e=0;e<f.length;e++){f[e].style.paddingRight=t}y.style.paddingRight=t,y.classList.add("lock"),g=!1,setTimeout((function(){g=!0}),800)}(),t.classList.add("open"),t.addEventListener("click",(function(t){t.target.closest(".popup__content")||v(t.target.closest(".popup"))}))}}function v(t,e=!0){g&&(t.classList.remove("open"),e&&(setTimeout((function(){if(f.length>0)for(let t=0;t<f.length;t++)f[t].style.paddingRight="0px";y.style.paddingRight="0px",y.classList.remove("lock")}),800),g=!1,setTimeout((function(){g=!0}),800)))}document.addEventListener("keydown",(function(t){if(27===t.which){v(document.querySelector(".popup.open"))}})),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);let _=document.querySelectorAll(".quantity__button");if(_.length>0)for(let t=0;t<_.length;t++){const e=_[t];e.addEventListener("click",(function(t){let o=parseInt(e.closest(".quantity").querySelector("input").value);e.classList.contains("quantity__button--plus")?o++:(o-=1,o<1&&(o=1)),e.closest(".quantity").querySelector("input").value=o}))}$(".catalog-sorting__link").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active")})),$(".filter-product .filter-stirps__item:first-child").on("click",(function(t){t.preventDefault(),$(this).hasClass("active")?($(".filter-product .filter-stirps__item").removeClass("active"),$(".filter-product .filter-attributes__item").slideUp(300)):($(".filter-product .filter-stirps__item").addClass("active"),$(".filter-product .filter-attributes__item").slideDown(300))})),$(".filter-product .filter-stirps__item").not(":first-child").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active");const e=$(this).attr("href");$(e).slideToggle(300)})),$(".filter-attributes__item .filter-attributes__title").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active"),$(this).closest(".filter-attributes__item").find(".filter-attributes__link").addClass("active"),$(this).hasClass("active")?$(this).closest(".filter-attributes__item").find(".filter-attributes__link").addClass("active"):$(this).closest(".filter-attributes__item").find(".filter-attributes__link").removeClass("active")})),$(".filter-attributes__link").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active")})),$(".attributes-summary__reset").on("click",(function(t){t.preventDefault(),$(".filter-product .filter-stirps__item,.filter-attributes__title, .filter-attributes__link").removeClass("active")}))}));
$(document).ready((function(){"use strict";var t,e;!function(){let t=[],e=document.querySelectorAll("[data-da]"),i=[],o=[];if(e.length>0){let r=0;for(let o=0;o<e.length;o++){const n=e[o],a=n.getAttribute("data-da");if(""!=a){const e=a.split(","),o=e[1]?e[1].trim():"last",c=e[2]?e[2].trim():"767",d="min"===e[3]?e[3].trim():"max",p=document.querySelector("."+e[0].trim());e.length>0&&p&&(n.setAttribute("data-da-index",r),t[r]={parent:n.parentNode,index:(l=n,s=void 0,s=Array.prototype.slice.call(l.parentNode.children),s.indexOf(l))},i[r]={element:n,destination:document.querySelector("."+e[0].trim()),place:o,breakpoint:c,type:d},r++)}}(n=i).sort((function(t,e){return t.breakpoint>e.breakpoint?-1:1})),n.sort((function(t,e){return t.place>e.place?1:-1}));for(let t=0;t<i.length;t++){const e=i[t],n=e.breakpoint,l=e.type;o.push(window.matchMedia("("+l+"-width: "+n+"px)")),o[t].addListener(a)}}var n,l,s;function a(t){for(let t=0;t<i.length;t++){const e=i[t],n=e.element,l=e.destination,s=e.place,a="_dynamic_adapt_"+e.breakpoint;if(o[t].matches){if(!n.classList.contains(a)){let t=c(l)[s];"first"===s?t=c(l)[0]:"last"===s&&(t=c(l)[c(l).length]),l.insertBefore(n,l.children[t]),n.classList.add(a)}}else n.classList.contains(a)&&(r(n),n.classList.remove(a))}}function r(e){const i=e.getAttribute("data-da-index"),o=t[i],n=o.parent,l=o.index,s=c(n,!0)[l];n.insertBefore(e,n.children[s])}function c(t,e){const i=t.children,o=[];for(let t=0;t<i.length;t++){const n=i[t];(e||null==n.getAttribute("data-da"))&&o.push(t)}return o}a()}(),t=function(t){1==t?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(e=new Image).onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",$(".header__burger").click((function(t){$(".header__burger, #navbarSupportedContent").toggleClass("active"),$("body").toggleClass("lock")})),$((function(){let t=$(".section"),e=$(".header .navbar"),i=e.outerHeight();window.addEventListener("orientationchange",(function(){i=e.outerHeight()}),!1),$(window).on("scroll",(function(){const o=$(this).scrollTop();t.each((function(){const n=$(this).offset().top-i-5,l=n+$(this).outerHeight();o>=n&&o<=l&&(e.find(".nav-link").removeClass("active"),t.removeClass("active"),$(this).addClass("active"),e.find('.nav-link[href="#'+$(this).attr("id")+'"]').addClass("active"))}))})),e.find(".nav-link").on("click",(function(){const t=$(this).attr("href");return $("html, body").animate({scrollTop:$(t).offset().top-i},487),!1}));const o=document.querySelector("body"),n=window.innerWidth-document.querySelector(".site__main").offsetWidth+"px",l=document.querySelectorAll(".lock-padding");$(".navigation-drawer__mobile :not(.filter-selected__reset)").on("click",(function(){if($(".navigation-drawer__wrapper, .navigation-drawer").addClass("active"),l.length>0)for(let t=0;t<l.length;t++){l[t].style.paddingRight=n}o.style.paddingRight=n,o.classList.add("lock"),$(".filter-product").removeClass("open")})),$(document).mouseup((function(t){if(!$(".popup").hasClass("open")){var e=$(".navigation-drawer__wrapper");if(!e.is(t.target)&&0===e.has(t.target).length){if($(".navigation-drawer__wrapper, .navigation-drawer").removeClass("active"),l.length>0)for(let t=0;t<l.length;t++){l[t].style.paddingRight="0px"}o.style.paddingRight="0px",o.classList.remove("lock")}}})),$(".filter-modals__link.popup-link").click((function(t){$(".navigation-drawer__wrapper, .navigation-drawer").removeClass("active")}))}));const i=document.querySelectorAll("._anim-items");if(i.length>0){function o(t){for(let t=0;t<i.length;t++){const e=i[t],o=e.offsetHeight,l=n(e).top,s=4;let a=window.innerHeight-o/s;o>window.innerHeight&&(a=window.innerHeight-window.innerHeight/s),pageYOffset>l-a&&pageYOffset<l+o?e.classList.add("_active"):e.classList.contains("_anim-no-hide")||e.classList.remove("_active")}}function n(t){const e=t.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+o,left:e.left+i}}window.addEventListener("scroll",o),setTimeout(()=>{o()},300)}if($("#phone").length>0){const t=$("#carrotLabel"),e=$("#carrotLabelShadow"),i=$("#appleLabel"),o=$("#appleLabelShadow"),n=$("#potatoLabel"),l=$("#potatoLabelShadow"),s=$("#door"),a=$("#car"),r=$("#products"),c=$("#success");gsap.to(t,{duration:.5,opacity:1}),gsap.to(t,{duration:.5,y:-90,delay:.5}),gsap.to(e,{duration:.7,opacity:0,delay:1}),gsap.to(t,{duration:1,x:-255,y:-162,delay:1}),gsap.to(i,{duration:.5,opacity:1,delay:1.8}),gsap.to(i,{duration:.5,y:-150,delay:2.3}),gsap.to(o,{duration:.7,opacity:0,delay:2.3}),gsap.to(i,{duration:1,x:-300,y:-290,delay:2.8}),gsap.to(n,{duration:.5,opacity:1,delay:3.5}),gsap.to(n,{duration:.5,y:-100,delay:4}),gsap.to(l,{duration:.7,opacity:0,delay:4.5}),gsap.to(n,{duration:1,x:-150,y:-183,delay:4.5}),gsap.to(n,{duration:1,x:-300,y:-200,delay:6}),gsap.to(i,{duration:1,x:-450,y:-305,delay:7}),gsap.to(t,{duration:1,x:-405,y:-175,delay:8}),gsap.to(n,{duration:1,opacity:0,delay:9}),gsap.to(i,{duration:1,opacity:0,delay:9}),gsap.to(t,{duration:1,opacity:0,delay:9}),gsap.to(s,{duration:.7,y:-30,delay:10}),gsap.to(a,{duration:1,ease:"none",x:0,y:0,delay:10.7}),gsap.to(r,{duration:1,opacity:1,delay:12}),gsap.to(c,{duration:1,opacity:1,delay:13})}let l=document.getElementsByTagName("select");function s(t){const e=document.querySelectorAll(".select");if(!t.target.closest(".select"))for(let t=0;t<e.length;t++){const i=e[t],o=i.querySelector(".select__options");i.classList.remove("_active"),d(o,100)}}function a(t){const e=t.parentElement,i=t.getAttribute("class"),o=t.querySelector("option:checked");t.setAttribute("data-default",o.value),t.style.display="none",e.insertAdjacentHTML("beforeend",'<div class="select select_'+i+'"></div>'),t.parentElement.querySelector(".select").appendChild(t),r(t)}function r(t){const e=t.parentElement,i=e.querySelector(".select__item"),o=t.querySelectorAll("option"),n=t.querySelector("option:checked").text,l=t.getAttribute("data-type");i&&i.remove();let s="";s="input"==l?'<div class="select__value"><input autocomplete="off" type="text" name="form[]" value="'+n+'" data-error="Ошибка" data-value="'+n+'" class="select__input"></div>':'<div class="select__value"><span>'+n+"</span></div>",e.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+s+'</div><div class="select__options">'+function(t){if(t){let e="";for(let i=0;i<t.length;i++){const o=t[i],n=o.value;if(""!=n){const t=o.text;e=e+'<div data-value="'+n+'" class="select__option">'+t+"</div>"}}return e}}(o)+"</div></div></div>"),function(t,e){const i=e.querySelector(".select__item"),o=e.querySelector(".select__options"),n=e.querySelectorAll(".select__option"),l=t.getAttribute("data-type"),s=e.querySelector(".select__input");i.addEventListener("click",(function(){let t=document.querySelectorAll(".select");for(let e=0;e<t.length;e++){const o=t[e],n=o.querySelector(".select__options");o!=i.closest(".select")&&(o.classList.remove("_active"),d(n,100))}p(o,100),e.classList.toggle("_active")}));for(let i=0;i<n.length;i++){const o=n[i],a=o.getAttribute("data-value"),r=o.innerHTML;"input"==l?s.addEventListener("keyup",c):o.getAttribute("data-value")==t.value&&(o.style.display="none"),o.addEventListener("click",(function(){for(let t=0;t<n.length;t++){n[t].style.display="block"}"input"==l?(s.value=r,t.value=a):(e.querySelector(".select__value").innerHTML="<span>"+r+"</span>",t.value=a,o.style.display="none")}))}}(t,e)}function c(t){t.target.closest(".select ").querySelector(".select__options");let e=t.target.closest(".select ").querySelectorAll(".select__option"),i=t.target.value.toUpperCase();for(let t=0;t<e.length;t++){let o=e[t];(o.textContent||o.innerText).toUpperCase().indexOf(i)>-1?o.style.display="":o.style.display="none"}}l.length>0&&function(){for(let t=0;t<l.length;t++){a(l[t])}document.addEventListener("click",(function(t){s(t)})),document.addEventListener("keydown",(function(t){27==t.which&&s(t)}))}();let d=(t,e=500)=>{t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout(()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")},e)},p=(t,e=500)=>{if(!t.classList.contains("_slide"))return t.classList.add("_slide"),"none"===window.getComputedStyle(t).display?((t,e=500)=>{t.style.removeProperty("display");let i=window.getComputedStyle(t).display;"none"===i&&(i="block"),t.style.display=i;let o=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=o+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout(()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")},e)})(t,e):d(t,e)};const u=document.querySelectorAll(".popup-link"),y=document.querySelector("body"),f=document.querySelectorAll(".lock-padding");let g=!0;if(u.length>0)for(let t=0;t<u.length;t++){const e=u[t];e.addEventListener("click",(function(t){const i=e.getAttribute("href").replace("#","");h(document.getElementById(i)),t.preventDefault()}))}const m=document.querySelectorAll(".close-popup");if(m.length>0)for(let t=0;t<m.length;t++){const e=m[t];e.addEventListener("click",(function(t){v(e.closest(".popup")),t.preventDefault()}))}function h(t){if(t&&g){const e=document.querySelector(".popup.open");e?v(e,!1):function(){const t=window.innerWidth-document.querySelector(".site__main").offsetWidth+"px";//!обратить внимание на контейнер
if(f.length>0)for(let e=0;e<f.length;e++){f[e].style.paddingRight=t}y.style.paddingRight=t,y.classList.add("lock"),g=!1,setTimeout((function(){g=!0}),800)}(),t.classList.add("open"),t.addEventListener("click",(function(t){t.target.closest(".popup__content")||v(t.target.closest(".popup"))}))}}function v(t,e=!0){g&&(t.classList.remove("open"),e&&(setTimeout((function(){if(f.length>0)for(let t=0;t<f.length;t++)f[t].style.paddingRight="0px";y.style.paddingRight="0px",y.classList.remove("lock")}),800),g=!1,setTimeout((function(){g=!0}),800)))}document.addEventListener("keydown",(function(t){if(27===t.which){v(document.querySelector(".popup.open"))}})),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);let _=document.querySelectorAll(".quantity__button");if(_.length>0)for(let t=0;t<_.length;t++){const e=_[t];e.addEventListener("click",(function(t){let i=parseInt(e.closest(".quantity").querySelector("input").value);e.classList.contains("quantity__button--plus")?i++:(i-=1,i<1&&(i=1)),e.closest(".quantity").querySelector("input").value=i}))}$(".catalog-sorting__link, .filter-attributes__link, .filter-product__country-item").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active")})),$(".filter-product .filter-stirps__item:first-child").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active"),$(this).hasClass("active")?($(this).closest(".tab-pane").find(".filter-stirps__item").not(":first-child").removeClass("active"),$(this).closest(".tab-pane").find(".filter-stirps__item").not(":first-child").click()):($(this).closest(".tab-pane").find(".filter-stirps__item").not(":first-child").addClass("active"),$(this).closest(".tab-pane").find(".filter-stirps__item").not(":first-child").click())})),$(".filter-product .filter-stirps__item").not(":first-child").on("click",(function(t){t.preventDefault();const e=$(this).attr("href");$(this).toggleClass("active"),$(this).hasClass("active")?$(e).slideDown(300):$(e).slideUp(300)})),$(".filter-attributes__item .filter-attributes__title").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active"),$(this).closest(".filter-attributes__item").find(".filter-attributes__link").addClass("active"),$(this).hasClass("active")?$(this).closest(".filter-attributes__item").find(".filter-attributes__link").addClass("active"):$(this).closest(".filter-attributes__item").find(".filter-attributes__link").removeClass("active")})),$(".attributes-summary__reset").on("click",(function(t){t.preventDefault(),$(".filter-product .filter-stirps__item, .filter-attributes__title, .filter-attributes__link, .filter-product__country-item").removeClass("active"),$(".filter-attributes__item").slideUp(300)})),$(".filter-modals__link").on("click",(function(t){const e=$(this).data("tab");$(e).closest("#filterAttrTabs").find(".nav-link").removeClass("active"),$(".filter-attributes .tab-pane").removeClass("active show"),$(e).click()})),$(".accordion__title").click((function(t){let e=$(this).closest(".accordion").attr("id");$("#"+e).hasClass("accordion-one")&&($("#"+e+" .accordion__title").not($(this)).removeClass("active"),$("#"+e+" .accordion__text").not($(this).next()).slideUp(300)),$(this).toggleClass("active").next().slideToggle(300)}))}));
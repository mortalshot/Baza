$(document).ready((function(){"use strict";var t,e;!function(){let t=[],e=document.querySelectorAll("[data-da]"),o=[],i=[];if(e.length>0){let r=0;for(let i=0;i<e.length;i++){const n=e[i],a=n.getAttribute("data-da");if(""!=a){const e=a.split(","),i=e[1]?e[1].trim():"last",c=e[2]?e[2].trim():"767",d="min"===e[3]?e[3].trim():"max",p=document.querySelector("."+e[0].trim());e.length>0&&p&&(n.setAttribute("data-da-index",r),t[r]={parent:n.parentNode,index:(s=n,l=void 0,l=Array.prototype.slice.call(s.parentNode.children),l.indexOf(s))},o[r]={element:n,destination:document.querySelector("."+e[0].trim()),place:i,breakpoint:c,type:d},r++)}}(n=o).sort((function(t,e){return t.breakpoint>e.breakpoint?-1:1})),n.sort((function(t,e){return t.place>e.place?1:-1}));for(let t=0;t<o.length;t++){const e=o[t],n=e.breakpoint,s=e.type;i.push(window.matchMedia("("+s+"-width: "+n+"px)")),i[t].addListener(a)}}var n,s,l;function a(t){for(let t=0;t<o.length;t++){const e=o[t],n=e.element,s=e.destination,l=e.place,a="_dynamic_adapt_"+e.breakpoint;if(i[t].matches){if(!n.classList.contains(a)){let t=c(s)[l];"first"===l?t=c(s)[0]:"last"===l&&(t=c(s)[c(s).length]),s.insertBefore(n,s.children[t]),n.classList.add(a)}}else n.classList.contains(a)&&(r(n),n.classList.remove(a))}}function r(e){const o=e.getAttribute("data-da-index"),i=t[o],n=i.parent,s=i.index,l=c(n,!0)[s];n.insertBefore(e,n.children[l])}function c(t,e){const o=t.children,i=[];for(let t=0;t<o.length;t++){const n=o[t];(e||null==n.getAttribute("data-da"))&&i.push(t)}return i}a()}(),t=function(t){1==t?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(e=new Image).onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",$(".header__burger").click((function(t){$(".header__burger, #navbarSupportedContent").toggleClass("active"),$("body").toggleClass("lock")})),$((function(){let t=$(".section"),e=$(".header .navbar"),o=e.outerHeight();window.addEventListener("orientationchange",(function(){o=e.outerHeight()}),!1),$(window).on("scroll",(function(){const i=$(this).scrollTop();t.each((function(){const n=$(this).offset().top-o-5,s=n+$(this).outerHeight();i>=n&&i<=s&&(e.find(".nav-link").removeClass("active"),t.removeClass("active"),$(this).addClass("active"),e.find('.nav-link[href="#'+$(this).attr("id")+'"]').addClass("active"))}))})),e.find(".nav-link").on("click",(function(){const t=$(this).attr("href");return $("html, body").animate({scrollTop:$(t).offset().top-o},487),!1}))}));const o=window.innerWidth-document.querySelector(".site__main").offsetWidth+"px";$(".navigation-drawer__mobile").not(".filter-selected__reset").on("click",(function(){if(console.log("qweqweqwe"),$(".navigation-drawer__wrapper, .navigation-drawer").addClass("active"),m.length>0)for(let t=0;t<m.length;t++){m[t].style.paddingRight=o}g.style.paddingRight=o,g.classList.add("lock"),$(".filter-product").removeClass("open")})),$(document).mouseup((function(t){if(!$(".popup").hasClass("open")){var e=$(".navigation-drawer__wrapper");if(!e.is(t.target)&&0===e.has(t.target).length){if($(".navigation-drawer__wrapper, .navigation-drawer").removeClass("active"),m.length>0)for(let t=0;t<m.length;t++){m[t].style.paddingRight="0px"}g.style.paddingRight="0px",g.classList.remove("lock")}}})),$(".filter-modals__link.popup-link").click((function(t){$(".navigation-drawer__wrapper, .navigation-drawer").removeClass("active")}));const i=document.querySelectorAll(".header__inner .navbar .nav-link");if(window.matchMedia("(max-width: 450px)").matches)for(let t=0;t<i.length;t++){const e=i[t];$(e).text($(e).data("value"))}const n=document.querySelectorAll("._anim-items");if(n.length>0){function s(t){for(let t=0;t<n.length;t++){const e=n[t],o=e.offsetHeight,i=l(e).top,s=4;let a=window.innerHeight-o/s;o>window.innerHeight&&(a=window.innerHeight-window.innerHeight/s),pageYOffset>i-a&&pageYOffset<i+o?e.classList.add("_active"):e.classList.contains("_anim-no-hide")||e.classList.remove("_active")}}function l(t){const e=t.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+i,left:e.left+o}}window.addEventListener("scroll",s),setTimeout(()=>{s()},300)}if($("#phone").length>0){const t=$("#carrotLabel"),e=$("#carrotLabelShadow"),o=$("#appleLabel"),i=$("#appleLabelShadow"),n=$("#potatoLabel"),s=$("#potatoLabelShadow"),l=$("#door"),a=$("#car"),r=$("#products"),c=$("#success");gsap.to(t,{duration:.5,opacity:1}),gsap.to(t,{duration:.5,y:-90,delay:.5}),gsap.to(e,{duration:.7,opacity:0,delay:1}),gsap.to(t,{duration:1,x:-255,y:-162,delay:1}),gsap.to(o,{duration:.5,opacity:1,delay:1.8}),gsap.to(o,{duration:.5,y:-150,delay:2.3}),gsap.to(i,{duration:.7,opacity:0,delay:2.3}),gsap.to(o,{duration:1,x:-300,y:-290,delay:2.8}),gsap.to(n,{duration:.5,opacity:1,delay:3.5}),gsap.to(n,{duration:.5,y:-100,delay:4}),gsap.to(s,{duration:.7,opacity:0,delay:4.5}),gsap.to(n,{duration:1,x:-150,y:-183,delay:4.5}),gsap.to(n,{duration:1,x:-300,y:-200,delay:6}),gsap.to(o,{duration:1,x:-450,y:-305,delay:7}),gsap.to(t,{duration:1,x:-405,y:-175,delay:8}),gsap.to(n,{duration:1,opacity:0,delay:9}),gsap.to(o,{duration:1,opacity:0,delay:9}),gsap.to(t,{duration:1,opacity:0,delay:9}),gsap.to(l,{duration:.7,y:-30,delay:10}),gsap.to(a,{duration:1,ease:"none",x:0,y:0,delay:10.7}),gsap.to(r,{duration:1,opacity:1,delay:12}),gsap.to(c,{duration:1,opacity:1,delay:13})}let a=document.getElementsByTagName("select");function r(t){const e=document.querySelectorAll(".select");if(!t.target.closest(".select"))for(let t=0;t<e.length;t++){const o=e[t],i=o.querySelector(".select__options");o.classList.remove("_active"),u(i,100)}}function c(t){const e=t.parentElement,o=t.getAttribute("class"),i=t.querySelector("option:checked");t.setAttribute("data-default",i.value),t.style.display="none",e.insertAdjacentHTML("beforeend",'<div class="select select_'+o+'"></div>'),t.parentElement.querySelector(".select").appendChild(t),d(t)}function d(t){const e=t.parentElement,o=e.querySelector(".select__item"),i=t.querySelectorAll("option"),n=t.querySelector("option:checked").text,s=t.getAttribute("data-type");o&&o.remove();let l="";l="input"==s?'<div class="select__value"><input autocomplete="off" type="text" name="form[]" value="'+n+'" data-error="Ошибка" data-value="'+n+'" class="select__input"></div>':'<div class="select__value"><span>'+n+"</span></div>",e.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+l+'</div><div class="select__options">'+function(t){if(t){let e="";for(let o=0;o<t.length;o++){const i=t[o],n=i.value;if(""!=n){const t=i.text;e=e+'<div data-value="'+n+'" class="select__option">'+t+"</div>"}}return e}}(i)+"</div></div></div>"),function(t,e){const o=e.querySelector(".select__item"),i=e.querySelector(".select__options"),n=e.querySelectorAll(".select__option"),s=t.getAttribute("data-type"),l=e.querySelector(".select__input");o.addEventListener("click",(function(){let t=document.querySelectorAll(".select");for(let e=0;e<t.length;e++){const i=t[e],n=i.querySelector(".select__options");i!=o.closest(".select")&&(i.classList.remove("_active"),u(n,100))}f(i,100),e.classList.toggle("_active")}));for(let o=0;o<n.length;o++){const i=n[o],a=i.getAttribute("data-value"),r=i.innerHTML;"input"==s?l.addEventListener("keyup",p):i.getAttribute("data-value")==t.value&&(i.style.display="none"),i.addEventListener("click",(function(){for(let t=0;t<n.length;t++){n[t].style.display="block"}"input"==s?(l.value=r,t.value=a):(e.querySelector(".select__value").innerHTML="<span>"+r+"</span>",t.value=a,i.style.display="none")}))}}(t,e)}function p(t){t.target.closest(".select ").querySelector(".select__options");let e=t.target.closest(".select ").querySelectorAll(".select__option"),o=t.target.value.toUpperCase();for(let t=0;t<e.length;t++){let i=e[t];(i.textContent||i.innerText).toUpperCase().indexOf(o)>-1?i.style.display="":i.style.display="none"}}a.length>0&&function(){for(let t=0;t<a.length;t++){c(a[t])}document.addEventListener("click",(function(t){r(t)})),document.addEventListener("keydown",(function(t){27==t.which&&r(t)}))}();let u=(t,e=500)=>{t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout(()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")},e)},f=(t,e=500)=>{if(!t.classList.contains("_slide"))return t.classList.add("_slide"),"none"===window.getComputedStyle(t).display?((t,e=500)=>{t.style.removeProperty("display");let o=window.getComputedStyle(t).display;"none"===o&&(o="block"),t.style.display=o;let i=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=i+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout(()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")},e)})(t,e):u(t,e)};const y=document.querySelectorAll(".popup-link"),g=document.querySelector("body"),m=document.querySelectorAll(".lock-padding");let h=!0;if(y.length>0)for(let t=0;t<y.length;t++){const e=y[t];e.addEventListener("click",(function(t){const o=e.getAttribute("href").replace("#","");_(document.getElementById(o)),t.preventDefault()}))}const v=document.querySelectorAll(".close-popup");if(v.length>0)for(let t=0;t<v.length;t++){const e=v[t];e.addEventListener("click",(function(t){b(e.closest(".popup")),t.preventDefault()}))}function _(t){if(t&&h){const e=document.querySelector(".popup.open");e?b(e,!1):function(){const t=window.innerWidth-document.querySelector(".site__main").offsetWidth+"px";//!обратить внимание на контейнер
if(m.length>0)for(let e=0;e<m.length;e++){m[e].style.paddingRight=t}g.style.paddingRight=t,g.classList.add("lock"),h=!1,setTimeout((function(){h=!0}),800)}(),t.classList.add("open"),t.addEventListener("click",(function(t){t.target.closest(".popup__content")||b(t.target.closest(".popup"))}))}}function b(t,e=!0){h&&(t.classList.remove("open"),e&&(setTimeout((function(){if(m.length>0)for(let t=0;t<m.length;t++)m[t].style.paddingRight="0px";g.style.paddingRight="0px",g.classList.remove("lock")}),800),h=!1,setTimeout((function(){h=!0}),800)))}document.addEventListener("keydown",(function(t){if(27===t.which){b(document.querySelector(".popup.open"))}})),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);let w=document.querySelectorAll(".quantity__button");if(w.length>0)for(let t=0;t<w.length;t++){const e=w[t];e.addEventListener("click",(function(t){let o=parseInt(e.closest(".quantity").querySelector("input").value);e.classList.contains("quantity__button--plus")?o++:(o-=1,o<1&&(o=1)),e.closest(".quantity").querySelector("input").value=o}))}if($(".catalog-sorting__link, .filter-attributes__link, .filter-product__country-item").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active")})),$(".filter-product .filter-stirps__item:first-child").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active"),$(this).hasClass("active")?($(this).closest(".tab-pane").find(".filter-stirps__item").not(":first-child").removeClass("active"),$(this).closest(".tab-pane").find(".filter-stirps__item").not(":first-child").click()):($(this).closest(".tab-pane").find(".filter-stirps__item").not(":first-child").addClass("active"),$(this).closest(".tab-pane").find(".filter-stirps__item").not(":first-child").click())})),$(".filter-product .filter-stirps__item").not(":first-child").on("click",(function(t){t.preventDefault();const e=$(this).attr("href");$(this).toggleClass("active"),$(this).hasClass("active")?$(e).slideDown(300):$(e).slideUp(300)})),$(".filter-attributes__item .filter-attributes__title").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active"),$(this).closest(".filter-attributes__item").find(".filter-attributes__link").addClass("active"),$(this).hasClass("active")?$(this).closest(".filter-attributes__item").find(".filter-attributes__link").addClass("active"):$(this).closest(".filter-attributes__item").find(".filter-attributes__link").removeClass("active")})),$(".attributes-summary__reset").on("click",(function(t){t.preventDefault(),$(".filter-product .filter-stirps__item, .filter-attributes__title, .filter-attributes__link, .filter-product__country-item").removeClass("active"),$(".filter-attributes__item").slideUp(300)})),$(".filter-modals__link").on("click",(function(t){const e=$(this).data("tab");$(e).closest("#filterAttrTabs").find(".nav-link").removeClass("active"),$(".filter-attributes .tab-pane").removeClass("active show"),$(e).click()})),$(".catalog__products").hasClass("catalog__products--card")){let t=$(".catalog__product:last-child .product-popup").outerHeight();$(".market__catalog").css({"padding-bottom":t}),$(window).resize((function(){t=$(".catalog__product:last-child .product-popup").outerHeight(),$(".market__catalog").css({"padding-bottom":t})}))}$(".accordion__title").click((function(t){let e=$(this).closest(".accordion").attr("id");$("#"+e).hasClass("accordion-one")&&($("#"+e+" .accordion__title").not($(this)).removeClass("active"),$("#"+e+" .accordion__text").not($(this).next()).slideUp(300)),$(this).toggleClass("active").next().slideToggle(300)}));const k=document.querySelector(".table");let L,S,A=!1;k&&(k.addEventListener("mousedown",t=>{A=!0,k.classList.add("active"),L=t.pageX-k.offsetLeft,S=k.scrollLeft}),k.addEventListener("mouseleave",()=>{A=!1,k.classList.remove("active")}),k.addEventListener("mouseup",()=>{A=!1,k.classList.remove("active")}),k.addEventListener("mousemove",t=>{if(!A)return;t.preventDefault();const e=3*(t.pageX-k.offsetLeft-L);k.scrollLeft=S-e}))}));
"use strict";$(document).ready((function(){var t,e;!function(){var t,e=[],i=document.querySelectorAll("[data-da]"),o=[],n=[];if(i.length>0){for(var r=0,a=0;a<i.length;a++){var l=i[a],s=l.getAttribute("data-da");if(""!=s){var c=s.split(","),d=c[1]?c[1].trim():"last",p=c[2]?c[2].trim():"767",u="min"===c[3]?c[3].trim():"max",v=document.querySelector("."+c[0].trim());c.length>0&&v&&(l.setAttribute("data-da-index",r),e[r]={parent:l.parentNode,index:b(l)},o[r]={element:l,destination:document.querySelector("."+c[0].trim()),place:d,breakpoint:p,type:u},r++)}}(t=o).sort((function(t,e){return t.breakpoint>e.breakpoint?-1:1})),t.sort((function(t,e){return t.place>e.place?1:-1}));for(var y=0;y<o.length;y++){var f=o[y],g=f.breakpoint,m=f.type;n.push(window.matchMedia("("+m+"-width: "+g+"px)")),n[y].addListener(h)}}function h(t){for(var e=0;e<o.length;e++){var i=o[e],r=i.element,a=i.destination,l=i.place,s="_dynamic_adapt_"+i.breakpoint;if(n[e].matches){if(!r.classList.contains(s)){var c=w(a)[l];"first"===l?c=w(a)[0]:"last"===l&&(c=w(a)[w(a).length]),a.insertBefore(r,a.children[c]),r.classList.add(s)}}else r.classList.contains(s)&&(_(r),r.classList.remove(s))}}function _(t){var i=t.getAttribute("data-da-index"),o=e[i],n=o.parent,r=o.index,a=w(n,!0)[r];n.insertBefore(t,n.children[a])}function b(t){return Array.prototype.slice.call(t.parentNode.children).indexOf(t)}function w(t,e){for(var i=t.children,o=[],n=0;n<i.length;n++){var r=i[n];(e||null==r.getAttribute("data-da"))&&o.push(n)}return o}h()}(),t=function(t){1==t?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(e=new Image).onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",$(".header__burger").click((function(t){$(".header__burger, #navbarSupportedContent").toggleClass("active"),$("body").toggleClass("lock")})),$((function(){var t=$(".section"),e=$(".header .navbar"),i=e.outerHeight();window.addEventListener("orientationchange",(function(){i=e.outerHeight()}),!1),$(window).on("scroll",(function(){var o=$(this).scrollTop();t.each((function(){var n=$(this).offset().top-i-5,r=n+$(this).outerHeight();o>=n&&o<=r&&(e.find(".nav-link").removeClass("active"),t.removeClass("active"),$(this).addClass("active"),e.find('.nav-link[href="#'+$(this).attr("id")+'"]').addClass("active"))}))})),e.find(".nav-link").on("click",(function(){var t=$(this).attr("href");return $("html, body").animate({scrollTop:$(t).offset().top-i},487),!1}));var o=document.querySelector("body"),n=window.innerWidth-document.querySelector(".site__main").offsetWidth+"px",r=document.querySelectorAll(".lock-padding");$(".navigation-drawer__mobile :not(.filter-selected__reset)").on("click",(function(){if($(".navigation-drawer__wrapper, .navigation-drawer").addClass("active"),r.length>0)for(var t=0;t<r.length;t++){r[t].style.paddingRight=n}o.style.paddingRight=n,o.classList.add("lock")})),$(document).mouseup((function(t){if(!$(".popup").hasClass("open")){var e=$(".navigation-drawer__wrapper");if(!e.is(t.target)&&0===e.has(t.target).length){if($(".navigation-drawer__wrapper, .navigation-drawer").removeClass("active"),r.length>0)for(var i=0;i<r.length;i++){r[i].style.paddingRight="0px"}o.style.paddingRight="0px",o.classList.remove("lock")}}})),$(".filter-modals__link.popup-link").click((function(t){$(".navigation-drawer__wrapper, .navigation-drawer").removeClass("active")}))}));var i=document.querySelectorAll("._anim-items");if(i.length>0){var o=function(t){for(var e=0;e<i.length;e++){var o=i[e],r=o.offsetHeight,a=n(o).top,l=window.innerHeight-r/4;r>window.innerHeight&&(l=window.innerHeight-window.innerHeight/4),pageYOffset>a-l&&pageYOffset<a+r?o.classList.add("_active"):o.classList.contains("_anim-no-hide")||o.classList.remove("_active")}},n=function(t){var e=t.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+o,left:e.left+i}};window.addEventListener("scroll",o),setTimeout((function(){o()}),300)}if($("#phone").length>0){var r=$("#carrotLabel"),a=$("#carrotLabelShadow"),l=$("#appleLabel"),s=$("#appleLabelShadow"),c=$("#potatoLabel"),d=$("#potatoLabelShadow"),p=$("#door"),u=$("#car"),v=$("#products"),y=$("#success");gsap.to(r,{duration:.5,opacity:1}),gsap.to(r,{duration:.5,y:-90,delay:.5}),gsap.to(a,{duration:.7,opacity:0,delay:1}),gsap.to(r,{duration:1,x:-255,y:-162,delay:1}),gsap.to(l,{duration:.5,opacity:1,delay:1.8}),gsap.to(l,{duration:.5,y:-150,delay:2.3}),gsap.to(s,{duration:.7,opacity:0,delay:2.3}),gsap.to(l,{duration:1,x:-300,y:-290,delay:2.8}),gsap.to(c,{duration:.5,opacity:1,delay:3.5}),gsap.to(c,{duration:.5,y:-100,delay:4}),gsap.to(d,{duration:.7,opacity:0,delay:4.5}),gsap.to(c,{duration:1,x:-150,y:-183,delay:4.5}),gsap.to(c,{duration:1,x:-300,y:-200,delay:6}),gsap.to(l,{duration:1,x:-450,y:-305,delay:7}),gsap.to(r,{duration:1,x:-405,y:-175,delay:8}),gsap.to(c,{duration:1,opacity:0,delay:9}),gsap.to(l,{duration:1,opacity:0,delay:9}),gsap.to(r,{duration:1,opacity:0,delay:9}),gsap.to(p,{duration:.7,y:-30,delay:10}),gsap.to(u,{duration:1,ease:"none",x:0,y:0,delay:10.7}),gsap.to(v,{duration:1,opacity:1,delay:12}),gsap.to(y,{duration:1,opacity:1,delay:13})}var f=document.getElementsByTagName("select");function g(t){var e=document.querySelectorAll(".select");if(!t.target.closest(".select"))for(var i=0;i<e.length;i++){var o=e[i],n=o.querySelector(".select__options");o.classList.remove("_active"),b(n,100)}}function m(t){var e=t.parentElement,i=t.getAttribute("class"),o=t.querySelector("option:checked");t.setAttribute("data-default",o.value),t.style.display="none",e.insertAdjacentHTML("beforeend",'<div class="select select_'+i+'"></div>'),t.parentElement.querySelector(".select").appendChild(t),h(t)}function h(t){var e=t.parentElement,i=e.querySelector(".select__item"),o=t.querySelectorAll("option"),n=t.querySelector("option:checked").text,r=t.getAttribute("data-type");i&&i.remove();var a="";a="input"==r?'<div class="select__value"><input autocomplete="off" type="text" name="form[]" value="'+n+'" data-error="Ошибка" data-value="'+n+'" class="select__input"></div>':'<div class="select__value"><span>'+n+"</span></div>",e.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+a+'</div><div class="select__options">'+function(t){if(t){for(var e="",i=0;i<t.length;i++){var o=t[i],n=o.value;if(""!=n){var r=o.text;e=e+'<div data-value="'+n+'" class="select__option">'+r+"</div>"}}return e}}(o)+"</div></div></div>"),function(t,e){var i=e.querySelector(".select__item"),o=e.querySelector(".select__options"),n=e.querySelectorAll(".select__option"),r=t.getAttribute("data-type"),a=e.querySelector(".select__input");i.addEventListener("click",(function(){for(var t=document.querySelectorAll(".select"),n=0;n<t.length;n++){var r=t[n],a=r.querySelector(".select__options");r!=i.closest(".select")&&(r.classList.remove("_active"),b(a,100))}k(o,100),e.classList.toggle("_active")}));for(var l=function(i){var o=n[i],l=o.getAttribute("data-value"),s=o.innerHTML;"input"==r?a.addEventListener("keyup",_):o.getAttribute("data-value")==t.value&&(o.style.display="none"),o.addEventListener("click",(function(){for(var i=0;i<n.length;i++){n[i].style.display="block"}"input"==r?(a.value=s,t.value=l):(e.querySelector(".select__value").innerHTML="<span>"+s+"</span>",t.value=l,o.style.display="none")}))},s=0;s<n.length;s++)l(s)}(t,e)}function _(t){t.target.closest(".select ").querySelector(".select__options");for(var e=t.target.closest(".select ").querySelectorAll(".select__option"),i=t.target.value.toUpperCase(),o=0;o<e.length;o++){var n=e[o];(n.textContent||n.innerText).toUpperCase().indexOf(i)>-1?n.style.display="":n.style.display="none"}}f.length>0&&function(){for(var t=0;t<f.length;t++){m(f[t])}document.addEventListener("click",(function(t){g(t)})),document.addEventListener("keydown",(function(t){27==t.which&&g(t)}))}();var b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout((function(){t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")}),e)},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;t.style.removeProperty("display");var i=window.getComputedStyle(t).display;"none"===i&&(i="block"),t.style.display=i;var o=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=o+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((function(){t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")}),e)},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(!t.classList.contains("_slide"))return t.classList.add("_slide"),"none"===window.getComputedStyle(t).display?w(t,e):b(t,e)},L=document.querySelectorAll(".popup-link"),S=document.querySelector("body"),A=document.querySelectorAll(".lock-padding"),q=!0;if(L.length>0)for(var C=function(t){var e=L[t];e.addEventListener("click",(function(t){var i=e.getAttribute("href").replace("#","");!function(t){if(t&&q){var e=document.querySelector(".popup.open");e?H(e,!1):function(){var t=window.innerWidth-document.querySelector(".site__main").offsetWidth+"px";//!обратить внимание на контейнер
if(A.length>0)for(var e=0;e<A.length;e++){A[e].style.paddingRight=t}S.style.paddingRight=t,S.classList.add("lock"),q=!1,setTimeout((function(){q=!0}),800)}(),t.classList.add("open"),t.addEventListener("click",(function(t){t.target.closest(".popup__content")||H(t.target.closest(".popup"))}))}}(document.getElementById(i)),t.preventDefault()}))},x=0;x<L.length;x++)C(x);var E=document.querySelectorAll(".close-popup");if(E.length>0)for(var P=function(t){var e=E[t];e.addEventListener("click",(function(t){H(e.closest(".popup")),t.preventDefault()}))},T=0;T<E.length;T++)P(T);function H(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];q&&(t.classList.remove("open"),e&&B())}function B(){setTimeout((function(){if(A.length>0)for(var t=0;t<A.length;t++){A[t].style.paddingRight="0px"}S.style.paddingRight="0px",S.classList.remove("lock")}),800),q=!1,setTimeout((function(){q=!0}),800)}document.addEventListener("keydown",(function(t){27===t.which&&H(document.querySelector(".popup.open"))})),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);var D=document.querySelectorAll(".quantity__button");if(D.length>0)for(var R=function(t){var e=D[t];e.addEventListener("click",(function(t){var i=parseInt(e.closest(".quantity").querySelector("input").value);e.classList.contains("quantity__button--plus")?i++:(i-=1)<1&&(i=1),e.closest(".quantity").querySelector("input").value=i}))},I=0;I<D.length;I++)R(I);$(".catalog-sorting__link").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active")})),$(".filter-product .filter-stirps__item:first-child").on("click",(function(t){t.preventDefault(),$(this).hasClass("active")?($(".filter-product .filter-stirps__item").removeClass("active"),$(".filter-product .filter-attributes__item").slideUp(300)):($(".filter-product .filter-stirps__item").addClass("active"),$(".filter-product .filter-attributes__item").slideDown(300))})),$(".filter-product .filter-stirps__item").not(":first-child").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active");var e=$(this).attr("href");$(e).slideToggle(300)})),$(".filter-attributes__item .filter-attributes__title").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active"),$(this).closest(".filter-attributes__item").find(".filter-attributes__link").addClass("active"),$(this).hasClass("active")?$(this).closest(".filter-attributes__item").find(".filter-attributes__link").addClass("active"):$(this).closest(".filter-attributes__item").find(".filter-attributes__link").removeClass("active")})),$(".filter-attributes__link").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active")})),$(".attributes-summary__reset").on("click",(function(t){t.preventDefault(),$(".filter-product .filter-stirps__item,.filter-attributes__title, .filter-attributes__link").removeClass("active")}))}));
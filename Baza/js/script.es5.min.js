"use strict";$(document).ready((function(){var t,e;!function(){var t,e=[],i=document.querySelectorAll("[data-da]"),o=[],n=[];if(i.length>0){for(var a=0,r=0;r<i.length;r++){var s=i[r],l=s.getAttribute("data-da");if(""!=l){var c=l.split(","),d=c[1]?c[1].trim():"last",p=c[2]?c[2].trim():"767",u="min"===c[3]?c[3].trim():"max",v=document.querySelector("."+c[0].trim());c.length>0&&v&&(s.setAttribute("data-da-index",a),e[a]={parent:s.parentNode,index:$(s)},o[a]={element:s,destination:document.querySelector("."+c[0].trim()),place:d,breakpoint:p,type:u},a++)}}(t=o).sort((function(t,e){return t.breakpoint>e.breakpoint?-1:1})),t.sort((function(t,e){return t.place>e.place?1:-1}));for(var f=0;f<o.length;f++){var y=o[f],g=y.breakpoint,m=y.type;n.push(window.matchMedia("("+m+"-width: "+g+"px)")),n[f].addListener(h)}}function h(t){for(var e=0;e<o.length;e++){var i=o[e],a=i.element,r=i.destination,s=i.place,l="_dynamic_adapt_"+i.breakpoint;if(n[e].matches){if(!a.classList.contains(l)){var c=b(r)[s];"first"===s?c=b(r)[0]:"last"===s&&(c=b(r)[b(r).length]),r.insertBefore(a,r.children[c]),a.classList.add(l)}}else a.classList.contains(l)&&(_(a),a.classList.remove(l))}}function _(t){var i=t.getAttribute("data-da-index"),o=e[i],n=o.parent,a=o.index,r=b(n,!0)[a];n.insertBefore(t,n.children[r])}function $(t){return Array.prototype.slice.call(t.parentNode.children).indexOf(t)}function b(t,e){for(var i=t.children,o=[],n=0;n<i.length;n++){var a=i[n];(e||null==a.getAttribute("data-da"))&&o.push(n)}return o}h()}(),t=function(t){1==t?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(e=new Image).onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",$(".header__burger").click((function(t){$(".header__burger, #navbarSupportedContent").toggleClass("active"),$("body").toggleClass("lock")})),$((function(){var t=$(".section"),e=$(".header .navbar"),i=e.outerHeight();window.addEventListener("orientationchange",(function(){i=e.outerHeight()}),!1),$(window).on("scroll",(function(){var o=$(this).scrollTop();t.each((function(){var n=$(this).offset().top-i-5,a=n+$(this).outerHeight();o>=n&&o<=a&&(e.find(".nav-link").removeClass("active"),t.removeClass("active"),$(this).addClass("active"),e.find('.nav-link[href="#'+$(this).attr("id")+'"]').addClass("active"))}))})),e.find(".nav-link").on("click",(function(){var t=$(this).attr("href");return $("html, body").animate({scrollTop:$(t).offset().top-i},487),!1}))}));var i=window.innerWidth-document.querySelector(".site__main").offsetWidth+"px";$(".navigation-drawer__mobile").not(".filter-selected__reset").on("click",(function(){if(console.log("qweqweqwe"),$(".navigation-drawer__wrapper, .navigation-drawer").addClass("active"),q.length>0)for(var t=0;t<q.length;t++){q[t].style.paddingRight=i}A.style.paddingRight=i,A.classList.add("lock"),$(".filter-product").removeClass("open")})),$(document).mouseup((function(t){if(!$(".popup").hasClass("open")){var e=$(".navigation-drawer__wrapper");if(!e.is(t.target)&&0===e.has(t.target).length){if($(".navigation-drawer__wrapper, .navigation-drawer").removeClass("active"),q.length>0)for(var i=0;i<q.length;i++){q[i].style.paddingRight="0px"}A.style.paddingRight="0px",A.classList.remove("lock")}}})),$(".filter-modals__link.popup-link").click((function(t){$(".navigation-drawer__wrapper, .navigation-drawer").removeClass("active")}));var o=document.querySelectorAll("._anim-items");if(o.length>0){var n=function(t){for(var e=0;e<o.length;e++){var i=o[e],n=i.offsetHeight,r=a(i).top,s=window.innerHeight-n/4;n>window.innerHeight&&(s=window.innerHeight-window.innerHeight/4),pageYOffset>r-s&&pageYOffset<r+n?i.classList.add("_active"):i.classList.contains("_anim-no-hide")||i.classList.remove("_active")}},a=function(t){var e=t.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+o,left:e.left+i}};window.addEventListener("scroll",n),setTimeout((function(){n()}),300)}if($("#phone").length>0){var r=$("#carrotLabel"),s=$("#carrotLabelShadow"),l=$("#appleLabel"),c=$("#appleLabelShadow"),d=$("#potatoLabel"),p=$("#potatoLabelShadow"),u=$("#door"),v=$("#car"),f=$("#products"),y=$("#success");gsap.to(r,{duration:.5,opacity:1}),gsap.to(r,{duration:.5,y:-90,delay:.5}),gsap.to(s,{duration:.7,opacity:0,delay:1}),gsap.to(r,{duration:1,x:-255,y:-162,delay:1}),gsap.to(l,{duration:.5,opacity:1,delay:1.8}),gsap.to(l,{duration:.5,y:-150,delay:2.3}),gsap.to(c,{duration:.7,opacity:0,delay:2.3}),gsap.to(l,{duration:1,x:-300,y:-290,delay:2.8}),gsap.to(d,{duration:.5,opacity:1,delay:3.5}),gsap.to(d,{duration:.5,y:-100,delay:4}),gsap.to(p,{duration:.7,opacity:0,delay:4.5}),gsap.to(d,{duration:1,x:-150,y:-183,delay:4.5}),gsap.to(d,{duration:1,x:-300,y:-200,delay:6}),gsap.to(l,{duration:1,x:-450,y:-305,delay:7}),gsap.to(r,{duration:1,x:-405,y:-175,delay:8}),gsap.to(d,{duration:1,opacity:0,delay:9}),gsap.to(l,{duration:1,opacity:0,delay:9}),gsap.to(r,{duration:1,opacity:0,delay:9}),gsap.to(u,{duration:.7,y:-30,delay:10}),gsap.to(v,{duration:1,ease:"none",x:0,y:0,delay:10.7}),gsap.to(f,{duration:1,opacity:1,delay:12}),gsap.to(y,{duration:1,opacity:1,delay:13})}var g=document.getElementsByTagName("select");function m(t){var e=document.querySelectorAll(".select");if(!t.target.closest(".select"))for(var i=0;i<e.length;i++){var o=e[i],n=o.querySelector(".select__options");o.classList.remove("_active"),w(n,100)}}function h(t){var e=t.parentElement,i=t.getAttribute("class"),o=t.querySelector("option:checked");t.setAttribute("data-default",o.value),t.style.display="none",e.insertAdjacentHTML("beforeend",'<div class="select select_'+i+'"></div>'),t.parentElement.querySelector(".select").appendChild(t),_(t)}function _(t){var e=t.parentElement,i=e.querySelector(".select__item"),o=t.querySelectorAll("option"),n=t.querySelector("option:checked").text,a=t.getAttribute("data-type");i&&i.remove();var r="";r="input"==a?'<div class="select__value"><input autocomplete="off" type="text" name="form[]" value="'+n+'" data-error="Ошибка" data-value="'+n+'" class="select__input"></div>':'<div class="select__value"><span>'+n+"</span></div>",e.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+r+'</div><div class="select__options">'+function(t){if(t){for(var e="",i=0;i<t.length;i++){var o=t[i],n=o.value;if(""!=n){var a=o.text;e=e+'<div data-value="'+n+'" class="select__option">'+a+"</div>"}}return e}}(o)+"</div></div></div>"),function(t,e){var i=e.querySelector(".select__item"),o=e.querySelector(".select__options"),n=e.querySelectorAll(".select__option"),a=t.getAttribute("data-type"),r=e.querySelector(".select__input");i.addEventListener("click",(function(){for(var t=document.querySelectorAll(".select"),n=0;n<t.length;n++){var a=t[n],r=a.querySelector(".select__options");a!=i.closest(".select")&&(a.classList.remove("_active"),w(r,100))}k(o,100),e.classList.toggle("_active")}));for(var s=function(i){var o=n[i],s=o.getAttribute("data-value"),l=o.innerHTML;"input"==a?r.addEventListener("keyup",b):o.getAttribute("data-value")==t.value&&(o.style.display="none"),o.addEventListener("click",(function(){for(var i=0;i<n.length;i++){n[i].style.display="block"}"input"==a?(r.value=l,t.value=s):(e.querySelector(".select__value").innerHTML="<span>"+l+"</span>",t.value=s,o.style.display="none")}))},l=0;l<n.length;l++)s(l)}(t,e)}function b(t){t.target.closest(".select ").querySelector(".select__options");for(var e=t.target.closest(".select ").querySelectorAll(".select__option"),i=t.target.value.toUpperCase(),o=0;o<e.length;o++){var n=e[o];(n.textContent||n.innerText).toUpperCase().indexOf(i)>-1?n.style.display="":n.style.display="none"}}g.length>0&&function(){for(var t=0;t<g.length;t++){h(g[t])}document.addEventListener("click",(function(t){m(t)})),document.addEventListener("keydown",(function(t){27==t.which&&m(t)}))}();var w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout((function(){t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")}),e)},L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;t.style.removeProperty("display");var i=window.getComputedStyle(t).display;"none"===i&&(i="block"),t.style.display=i;var o=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=o+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((function(){t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")}),e)},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(!t.classList.contains("_slide"))return t.classList.add("_slide"),"none"===window.getComputedStyle(t).display?L(t,e):w(t,e)},S=document.querySelectorAll(".popup-link"),A=document.querySelector("body"),q=document.querySelectorAll(".lock-padding"),C=!0;if(S.length>0)for(var E=function(t){var e=S[t];e.addEventListener("click",(function(t){var i=e.getAttribute("href").replace("#","");!function(t){if(t&&C){var e=document.querySelector(".popup.open");e?B(e,!1):function(){var t=window.innerWidth-document.querySelector(".site__main").offsetWidth+"px";//!обратить внимание на контейнер
if(q.length>0)for(var e=0;e<q.length;e++){q[e].style.paddingRight=t}A.style.paddingRight=t,A.classList.add("lock"),C=!1,setTimeout((function(){C=!0}),800)}(),t.classList.add("open"),t.addEventListener("click",(function(t){t.target.closest(".popup__content")||B(t.target.closest(".popup"))}))}}(document.getElementById(i)),t.preventDefault()}))},x=0;x<S.length;x++)E(x);var P=document.querySelectorAll(".close-popup");if(P.length>0)for(var T=function(t){var e=P[t];e.addEventListener("click",(function(t){B(e.closest(".popup")),t.preventDefault()}))},H=0;H<P.length;H++)T(H);function B(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];C&&(t.classList.remove("open"),e&&D())}function D(){setTimeout((function(){if(q.length>0)for(var t=0;t<q.length;t++){q[t].style.paddingRight="0px"}A.style.paddingRight="0px",A.classList.remove("lock")}),800),C=!1,setTimeout((function(){C=!0}),800)}document.addEventListener("keydown",(function(t){27===t.which&&B(document.querySelector(".popup.open"))})),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);var R=document.querySelectorAll(".quantity__button");if(R.length>0)for(var I=function(t){var e=R[t];e.addEventListener("click",(function(t){var i=parseInt(e.closest(".quantity").querySelector("input").value);e.classList.contains("quantity__button--plus")?i++:(i-=1)<1&&(i=1),e.closest(".quantity").querySelector("input").value=i}))},M=0;M<R.length;M++)I(M);$(".catalog-sorting__link, .filter-attributes__link, .filter-product__country-item").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active")})),$(".filter-product .filter-stirps__item:first-child").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active"),$(this).hasClass("active")?($(this).closest(".tab-pane").find(".filter-stirps__item").not(":first-child").removeClass("active"),$(this).closest(".tab-pane").find(".filter-stirps__item").not(":first-child").click()):($(this).closest(".tab-pane").find(".filter-stirps__item").not(":first-child").addClass("active"),$(this).closest(".tab-pane").find(".filter-stirps__item").not(":first-child").click())})),$(".filter-product .filter-stirps__item").not(":first-child").on("click",(function(t){t.preventDefault();var e=$(this).attr("href");$(this).toggleClass("active"),$(this).hasClass("active")?$(e).slideDown(300):$(e).slideUp(300)})),$(".filter-attributes__item .filter-attributes__title").on("click",(function(t){t.preventDefault(),$(this).toggleClass("active"),$(this).closest(".filter-attributes__item").find(".filter-attributes__link").addClass("active"),$(this).hasClass("active")?$(this).closest(".filter-attributes__item").find(".filter-attributes__link").addClass("active"):$(this).closest(".filter-attributes__item").find(".filter-attributes__link").removeClass("active")})),$(".attributes-summary__reset").on("click",(function(t){t.preventDefault(),$(".filter-product .filter-stirps__item, .filter-attributes__title, .filter-attributes__link, .filter-product__country-item").removeClass("active"),$(".filter-attributes__item").slideUp(300)})),$(".filter-modals__link").on("click",(function(t){var e=$(this).data("tab");$(e).closest("#filterAttrTabs").find(".nav-link").removeClass("active"),$(".filter-attributes .tab-pane").removeClass("active show"),$(e).click()})),$(".accordion__title").click((function(t){var e=$(this).closest(".accordion").attr("id");$("#"+e).hasClass("accordion-one")&&($("#"+e+" .accordion__title").not($(this)).removeClass("active"),$("#"+e+" .accordion__text").not($(this).next()).slideUp(300)),$(this).toggleClass("active").next().slideToggle(300)}));var U,O,W=document.querySelector(".table"),X=!1;W&&(W.addEventListener("mousedown",(function(t){X=!0,W.classList.add("active"),U=t.pageX-W.offsetLeft,O=W.scrollLeft})),W.addEventListener("mouseleave",(function(){X=!1,W.classList.remove("active")})),W.addEventListener("mouseup",(function(){X=!1,W.classList.remove("active")})),W.addEventListener("mousemove",(function(t){if(X){t.preventDefault();var e=3*(t.pageX-W.offsetLeft-U);W.scrollLeft=O-e}})))}));